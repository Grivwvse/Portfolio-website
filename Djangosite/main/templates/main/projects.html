{% extends 'main/base.html' %}

{% block content %}

<ul>
    {% for p in Projects %}
    <li>
        <h2>{{p.projName}}</h2>
        <p>Описание: {{p.description | truncatewords:50}}</p>
        <div class="flex">
            <a href="{{ p.get_absolute_url }}" class="btn-new">Подробнееe</a>
            <a href="{{p.link}}" class="btn-new">GitHub</a>
        </div>
    </li>
    {% endfor %}
</ul>

<hr/>
<div class="pagination">

    {% if page_obj.has_previous %}
    <a href="?page={{page_obj.previous_page_number}}">&laquo;</a>
    {% endif %}

    {% for p in paginator.page_range %}
        {% if page_obj.number == p %}
        <a class="active" href="?page={{p}}">{{p}}</a>
        {%  elif p >= page_obj.number|add:-2 and p <= page_obj.number|add:2 %}
        <a href="?page={{p}}">{{p}}</a>
        {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
    <a href="?page={{page_obj.next_page_number}}">&raquo;</a>
    {% endif %}

</div>

{% endblock %}